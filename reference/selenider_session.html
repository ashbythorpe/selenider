<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Begin a session in selenider, setting the session globally unless otherwise
specified.
create_chromote_session(), create_selenium_client() and create_selenium_server()
are low-level functions that allow more control over making a web driver, which
can then be passed into the driver argument to selenider_session()."><title>Start a session — selenider_session • selenider</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Start a session — selenider_session"><meta property="og:description" content="Begin a session in selenider, setting the session globally unless otherwise
specified.
create_chromote_session(), create_selenium_client() and create_selenium_server()
are low-level functions that allow more control over making a web driver, which
can then be passed into the driver argument to selenider_session()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">selenider</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/test-site.html">test-site</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ashbythorpe/selenider/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Start a session</h1>
      <small class="dont-index">Source: <a href="https://github.com/ashbythorpe/selenider/blob/HEAD/R/session.R" class="external-link"><code>R/session.R</code></a></small>
      <div class="d-none name"><code>selenider_session.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Begin a session in selenider, setting the session globally unless otherwise
specified.</p>
<p><code>create_chromote_session()</code>, <code>create_selenium_client()</code> and <code>create_selenium_server()</code>
are low-level functions that allow more control over making a web driver, which
can then be passed into the <code>driver</code> argument to <code>selenider_session()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">selenider_session</span><span class="op">(</span></span>
<span>  session <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  browser <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  view <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  driver <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  local <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .env <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">caller_env</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_chromote_session</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_selenium_server</span><span class="op">(</span></span>
<span>  <span class="va">browser</span>,</span>
<span>  version <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>  port <span class="op">=</span> <span class="fl">4567L</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_selenium_client</span><span class="op">(</span><span class="va">browser</span>, port <span class="op">=</span> <span class="fl">4567L</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>session</dt>
<dd><p>The package to use as a backend: either "chromote" or
"selenium". By default, chromote is used, since this tends to be
faster and more reliable.</p></dd>


<dt>browser</dt>
<dd><p>The name of the browser to run the session in; one of
"chrome", "firefox", "phantomjs" or "internet explorer" (only on
Windows). IF <code>NULL</code>, the function will try to work out which browser
you have installed. If we are using chromote, this option is ignored,
since chromote only works on Chrome.</p></dd>


<dt>view</dt>
<dd><p>Whether to open the browser and view it, for visual testing.
This is ignored if session is "selenium", since selenium drivers cannot
be headless.</p></dd>


<dt>timeout</dt>
<dd><p>The default time to wait when collecting an element.</p></dd>


<dt>driver</dt>
<dd><p>A driver object to use instead of creating one manually. This
can be one of:</p><ul><li><p>A <a href="http://rstudio.github.io/chromote/reference/ChromoteSession.html" class="external-link">chromote::ChromoteSession</a> object (the result of <code>create_chromote_session()</code>).</p></li>
<li><p>A shinytest2::AppDriver object.</p></li>
<li><p>An <code><a href="https://docs.ropensci.org/RSelenium/reference/remoteDriver-class.html" class="external-link">RSelenium::remoteDriver()</a></code> object (the result of <code>create_selenium_client()</code>).</p></li>
<li><p>A Selenium server object (the result of <code><a href="https://docs.ropensci.org/wdman/reference/selenium.html" class="external-link">wdman::selenium()</a></code>, or
<code>create_selenium_server()</code>). In this case, the client object will be created using
the server object.</p></li>
<li><p>A list/environment containing the <code><a href="https://docs.ropensci.org/RSelenium/reference/remoteDriver-class.html" class="external-link">RSelenium::remoteDriver()</a></code> object, the Selenium
server object, or both.
See Details for more information about providing a custom driver object.</p></li>
</ul></dd>


<dt>local</dt>
<dd><p>Whether to set the session as the local session object,
using <code><a href="get_session.html">local_session()</a></code>.</p></dd>


<dt>quiet</dt>
<dd><p>Whether to let <code><a href="https://docs.ropensci.org/RSelenium/reference/rsDriver.html" class="external-link">RSelenium::rsDriver()</a></code> display messages. By
default, this output is suppressed, as it is not usually useful. Chromote
does not display any output when creating a session.</p></dd>


<dt>.env</dt>
<dd><p>Passed into <code><a href="get_session.html">local_session()</a></code> function, to define the
environment in which the session is used. Change this if you want to
create the session inside a function and then use it outside the
function.</p></dd>


<dt>...</dt>
<dd><p>Arguments to finetune the creation of the specific driver.</p><ul><li><p>For <code>create_chromote_session()</code>, these are passed into
<code><a href="http://rstudio.github.io/chromote/reference/ChromoteSession.html" class="external-link">chromote::ChromoteSession$new()</a></code>.</p></li>
<li><p>For <code>create_selenium_server()</code>, these are passed into <code><a href="https://docs.ropensci.org/wdman/reference/selenium.html" class="external-link">wdman::selenium()</a></code>.</p></li>
<li><p>For <code>create_selenium_server()</code>, these are passed into <code><a href="https://docs.ropensci.org/RSelenium/reference/remoteDriver-class.html" class="external-link">RSelenium::remoteDriver()</a></code>.</p></li>
</ul></dd>


<dt>version</dt>
<dd><p>The version of the webdriver (chromedriver, geckodriver, etc.)
to use. You should only need to change this if Chrome is being used, as the
version of the driver depends on the version of Chrome.</p></dd>


<dt>port</dt>
<dd><p>The port to run Selenium on.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>selenider_session</code> object. Use <code>session$driver</code> to retrieve the driver object that controls the
browser.</p>
    </div>
    <div class="section level2">
    <h2 id="structure-of-a-selenider-session">Structure of a selenider session<a class="anchor" aria-label="anchor" href="#structure-of-a-selenider-session"></a></h2>
    <p>A <code>selenider_session</code> object is an S3 list, meaning its properties can be accessed using <code>$</code>.
Most notably, using <code>session$driver</code> allows access to the driver object which actually controls
the browser. If you are using Selenium, use <code>session$driver$client</code> to access the <code>remoteDriver</code>
object. These objects are useful if you want to do something with the driver that is not directly
supported by selenider. See <code><a href="get_actual_element.html">get_actual_element()</a></code> for some examples of this.</p>
    </div>
    <div class="section level2">
    <h2 id="custom-drivers">Custom drivers<a class="anchor" aria-label="anchor" href="#custom-drivers"></a></h2>
    <p>Custom driver objects are good if you want more low-level control over the underlying
functions that create the webdrivers that actually control the browser. However, it is
recommended to use the selenider functions (e.g. <code>create_selenium_client()</code>) over
<code><a href="https://docs.ropensci.org/wdman/reference/selenium.html" class="external-link">wdman::selenium()</a></code> for better error messages and more reliable behaviour.</p>
    </div>
    <div class="section level2">
    <h2 id="todo-add-vignette-references-when-available">TODO: Add vignette references when available<a class="anchor" aria-label="anchor" href="#todo-add-vignette-references-when-available"></a></h2>
    
<div class="section">
<h3 id="chromote">Chromote<a class="anchor" aria-label="anchor" href="#chromote"></a></h3>


<p>Supplying a custom <a href="http://rstudio.github.io/chromote/reference/ChromoteSession.html" class="external-link">chromote::ChromoteSession</a> object can allow you to manage the
underlying <a href="http://rstudio.github.io/chromote/reference/Chromote.html" class="external-link">chromote::Chromote</a> process that is used to spawn sessions. For example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>my_chromote_object <span class="ot">&lt;-</span> chromote<span class="sc">::</span>Chromote<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver =</span> <span class="fu">create_chromote_session</span>(<span class="at">parent =</span> my_chromote_object)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
<p>You can also supply a shinytest2::AppDriver object, allowing selenider and
shinytest2 to share a session:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>shiny_app <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">shinyApp</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ui =</span> shiny<span class="sc">::</span><span class="fu">fluidPage</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... Your UI</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... Your server</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>app <span class="ot">&lt;-</span> shinytest2<span class="sc">::</span>AppDriver<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver =</span> app</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="rselenium">RSelenium<a class="anchor" aria-label="anchor" href="#rselenium"></a></h3>


<p>If you want to manually create both the client and the server, you can
do the equivalent of the following:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">client =</span> <span class="fu">create_selenium_client</span>(<span class="st">"chrome"</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">server =</span> <span class="fu">create_selenium_server</span>(<span class="st">"chrome"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
<p>However, it can sometimes be useful to omit the server, for example when you are running
the Selenium server using Docker. In this case, you need to make sure the ip and port are
matched correctly.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver =</span> <span class="fu">create_selenium_client</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">remoteServerAddr =</span> <span class="st">"&lt;IP ADDRESS&gt;"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">port =</span> 1234L</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="close_session.html">close_session()</a></code> to close the session. Note that this will not reset the
result of <code><a href="get_session.html">get_session()</a></code>, which is why <code><a href="https://withr.r-lib.org/reference/defer.html" class="external-link">withr::deferred_run()</a></code> is preferred.</p></li>
<li><p><code><a href="get_session.html">local_session()</a></code> and <code><a href="get_session.html">with_session()</a></code> to manually set the local session
object.</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">session_1</span> <span class="op">&lt;-</span> <span class="fu">selenider_session</span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># session_1 is the local session here</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Returns session 1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A selenider session</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \dontshow{</span></span></span>
<span class="r-in"><span><span class="co"># Clean up all connections and invalidate default chromote object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="selenider_cleanup.html">selenider_cleanup</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">session_2</span> <span class="op">&lt;-</span> <span class="fu">selenider_session</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># In here, session_2 is the local session</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># \dontshow{</span></span></span>
<span class="r-in"><span>  <span class="co"># Clean up all connections and invalidate default chromote object</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="selenider_cleanup.html">selenider_cleanup</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># When the function finishes executing, the session is closed</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">my_function</span><span class="op">(</span><span class="op">)</span> <span class="co"># Returns `session_2`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If we want to use a session outside the scope of a function,</span></span></span>
<span class="r-in"><span><span class="co"># we need to use the `.env` argument.</span></span></span>
<span class="r-in"><span><span class="va">create_session</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">timeout</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">.env</span> <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">caller_env</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># caller_env() is the environment where the function is called</span></span></span>
<span class="r-in"><span>  <span class="fu">selenider_session</span><span class="op">(</span>timeout <span class="op">=</span> <span class="va">timeout</span>, .env <span class="op">=</span> <span class="va">.env</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_session</span> <span class="op">&lt;-</span> <span class="fu">create_session</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can now use this session outside the `create_session()` function</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A selenider session</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># `my_session` will be closed automatically.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \dontshow{</span></span></span>
<span class="r-in"><span><span class="co"># Clean up all connections and invalidate default chromote object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="selenider_cleanup.html">selenider_cleanup</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ashby Thorpe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

