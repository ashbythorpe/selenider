<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>selenider and rvest • selenider</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="selenider and rvest">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">selenider</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/selenider.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/unit-testing.html">Unit testing</a></li>
    <li><a class="dropdown-item" href="../articles/with-rvest.html">selenider and rvest</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ashbythorpe/selenider/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>selenider and rvest</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ashbythorpe/selenider/blob/main/vignettes/with-rvest.Rmd" class="external-link"><code>vignettes/with-rvest.Rmd</code></a></small>
      <div class="d-none name"><code>with-rvest.Rmd</code></div>
    </div>

    
    
<p>selenider can be a useful add-on to rvest, for when scraping data
requires interaction with a website.</p>
<p>rvest is very similar to selenider, but is designed for static
webpages rather than interactive ones.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/" class="external-link">rvest</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ashbythorpe/selenider" class="external-link">selenider</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'selenider'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:rvest':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     back, forward</span></span></code></pre></div>
<p>To start, let’s open <a href="https://www.r-project.org/" class="external-link uri">https://www.r-project.org/</a></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/open_url.html">open_url</a></span><span class="op">(</span><span class="st">"https://www.r-project.org/"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Can't find an existing selenider session.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Creating a new session.</span></span></code></pre></div>
<p>First, we will interact with the website with selenider. We would
like to find the most recent post by R on Mastodon, and follow the link
to the original post.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">".mt-timeline"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/find_element.html">find_element</a></span><span class="op">(</span><span class="st">"article"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/elem_attr.html">elem_attr</a></span><span class="op">(</span><span class="st">"data-location"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/open_url.html">open_url</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Now, we would like to parse the text of the post using
<code><a href="https://rvest.tidyverse.org/reference/html_text.html" class="external-link">rvest::html_text2()</a></code>. We can do this in two ways, either by
locating the element containing the post using selenider then parsing it
using rvest, or by parsing the entire page using rvest and finding the
element after. The two methods are very similar, since selenider and
rvest use a very similar syntax, except rvest uses the
<code>html_</code> prefix rather than the <code>elem_</code> prefix.</p>
<p>We can convert between selenider elements and rvest (or more
precisely, xml2) documents using <code><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">rvest::read_html()</a></code> or
<code><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">xml2::read_html()</a></code>.</p>
<p>Note that when converting elements to rvest nodes, the element will
be wrapped in a <code>&lt;body&gt;</code> tag.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First method</span></span>
<span><span class="va">rvest_element</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">".columns-area"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/find_element.html">find_element</a></span><span class="op">(</span><span class="st">".status__content"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">read_html</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rvest_element</span></span>
<span><span class="co">#&gt; {html_document}</span></span>
<span><span class="co">#&gt; &lt;html&gt;</span></span>
<span><span class="co">#&gt; [1] &lt;body&gt;&lt;div class="status__content" tabindex="0"&gt;&lt;div class="status__conte ...</span></span>
<span></span>
<span><span class="fu"><a href="https://rvest.tidyverse.org/reference/html_text.html" class="external-link">html_text2</a></span><span class="op">(</span><span class="va">rvest_element</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Does anyone have examples of good recorded #RStats demos, particularly short ones that have been incorporated in a presentation?\n\nI'm looking to share with a mentee.\n\nFeel free to share your own if you've got one you're proud of, or any tips I can pass on."</span></span></code></pre></div>
<p>Reading the HTML of an entire page can be done using
<code><a href="../reference/get_page_source.html">get_page_source()</a></code>. Note that
<code><a href="https://rvest.tidyverse.org/reference/html_element.html" class="external-link">rvest::html_element()</a></code> is equivalent to
<code><a href="../reference/find_element.html">find_element()</a></code>, but works only on static HTML.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_page_source.html">get_page_source</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_element.html" class="external-link">html_element</a></span><span class="op">(</span><span class="st">".columns-area"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_element.html" class="external-link">html_element</a></span><span class="op">(</span><span class="st">".status__content"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_text.html" class="external-link">html_text2</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Does anyone have examples of good recorded #RStats demos, particularly short ones that have been incorporated in a presentation?\n\nI'm looking to share with a mentee.\n\nFeel free to share your own if you've got one you're proud of, or any tips I can pass on."</span></span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ashby Thorpe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
