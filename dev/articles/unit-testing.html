<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="selenider">
<title>Unit testing • selenider</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Unit testing">
<meta property="og:description" content="selenider">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">selenider</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/selenider.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/unit-testing.html">Unit testing</a>
    <a class="dropdown-item" href="../articles/with-rvest.html">selenider and rvest</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ashbythorpe/selenider/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Unit testing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ashbythorpe/selenider/blob/HEAD/vignettes/unit-testing.Rmd" class="external-link"><code>vignettes/unit-testing.Rmd</code></a></small>
      <div class="d-none name"><code>unit-testing.Rmd</code></div>
    </div>

    
    
<p>selenider is compatible with unit testing frameworks like
<code>testthat</code> and <code>shinytest2</code>. In this vignette, we
will explore how to write unit tests with selenider, and we will briefly
describe how to automate your tests using Github Actions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ashbythorpe/selenider" class="external-link">selenider</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org" class="external-link">testthat</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="using-selenider-with-testthat">Using selenider with testthat<a class="anchor" aria-label="anchor" href="#using-selenider-with-testthat"></a>
</h2>
<p>Tests contained within <code><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">testthat::test_that()</a></code> are
self-contained, having no impact on other tests. selenider is no
exception: selenider sessions, when created inside a
<code><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">testthat::test_that()</a></code> block, will be closed automatically
when the test finishes running.</p>
<p>Remember, as always, to use the <code>.env</code> argument when
wrapping <code><a href="../reference/selenider_session.html">selenider_session()</a></code> in another function.</p>
<p><code><a href="../reference/elem_expect.html">elem_expect()</a></code> also has additional features inside
<code>testhat::test_that()</code>. When it succeeds, it will call
<code><a href="https://testthat.r-lib.org/reference/fail.html" class="external-link">testthat::succeed()</a></code>, and when it fails, it will use
<code><a href="https://testthat.r-lib.org/reference/fail.html" class="external-link">testthat::fail()</a></code> instead of throwing an error. This allows
tests to continue running even if <code><a href="../reference/elem_expect.html">elem_expect()</a></code> fails.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">test_that</a></span><span class="op">(</span><span class="st">"My test"</span>, <span class="op">{</span></span>
<span>  <span class="co"># session will be opened here...</span></span>
<span>  <span class="fu"><a href="../reference/open_url.html">open_url</a></span><span class="op">(</span><span class="st">"https://www.r-project.org/"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">".random-class"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/elem_expect.html">elem_expect</a></span><span class="op">(</span><span class="va">is_present</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="co"># and closed here!</span></span>
<span><span class="co">#&gt; -- Failure: My test ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Condition failed after waiting for 4 seconds:</span></span>
<span><span class="co">#&gt; `is_present`</span></span>
<span><span class="co">#&gt; i `x` is not present.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Where `x` is:</span></span>
<span><span class="co">#&gt; A selenider element selecting:</span></span>
<span><span class="co">#&gt; The first element with css selector ".random-class".</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;">:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Test failed</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-selenider-with-shinytest2">Using selenider with shinytest2<a class="anchor" aria-label="anchor" href="#using-selenider-with-shinytest2"></a>
</h2>
<p>Since shinytest2 uses chromote as a backend, it can be used with
selenider. selenider can be used to add more robust UI testing to
shinytest2, replacing unreliable uses of
<code>AppDriver$expect_screenshot()</code>.</p>
<p>shinytest2 does have a few UI expectations
(<code>AppDriver$expect_text()</code>,
<code>AppDriver$expect_html()</code> and
<code>AppDriver$expect_js()</code>), but these do not include the same
laziness and implicit waiting that selenider provides, making them a bit
less reliable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/shinytest2/" class="external-link">shinytest2</a></span><span class="op">)</span></span></code></pre></div>
<p>Let’s create a simple shiny app, consisting of a
<code><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">shiny::actionButton()</a></code> and
<code><a href="https://rdrr.io/pkg/shiny/man/conditionalPanel.html" class="external-link">shiny:: conditionalPanel()</a></code>. The panel is shown if the
button has been clicked an odd number of times, and hidden
otherwise.</p>
<p>We would like to test that the server-side processing of the button
input is done correctly, which we can do using shinytest2. However, we
would also like to check that the panel is visible at the correct times,
which we cannot do with shinytest2, and so we will use selenider
instead.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shiny_app</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"button"</span>, label <span class="op">=</span> <span class="st">"Click me!"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/conditionalPanel.html" class="external-link">conditionalPanel</a></span><span class="op">(</span></span>
<span>      condition <span class="op">=</span> <span class="st">"(input.button % 2) == 1"</span>,</span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Button has been clicked an odd number of times."</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagAppendAttributes.html" class="external-link">tagAppendAttributes</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"condpanel"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">even</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">button</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/exportTestValues.html" class="external-link">exportTestValues</a></span><span class="op">(</span>even <span class="op">=</span> <span class="op">{</span></span>
<span>      <span class="fu">even</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To start a selenider session using an existing
<code><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a></code> object, supply it to the
<code>driver</code> argument of <code><a href="../reference/selenider_session.html">selenider_session()</a></code>:
<code>session &lt;- selenider_session(driver = &lt;AppDriver&gt;)</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">test_that</a></span><span class="op">(</span><span class="st">"App works"</span>, <span class="op">{</span></span>
<span>  <span class="va">app</span> <span class="op">&lt;-</span> <span class="va"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">AppDriver</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">shiny_app</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span>driver <span class="op">=</span> <span class="va">app</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">"#condpanel"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/elem_expect.html">elem_expect</a></span><span class="op">(</span><span class="va">is_invisible</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">app</span><span class="op">$</span><span class="fu">click</span><span class="op">(</span><span class="st">"button"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">app</span><span class="op">$</span><span class="fu">expect_values</span><span class="op">(</span>export <span class="op">=</span> <span class="st">"even"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">"#condpanel"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/elem_expect.html">elem_expect</a></span><span class="op">(</span><span class="va">is_visible</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">app</span><span class="op">$</span><span class="fu">click</span><span class="op">(</span><span class="st">"button"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">app</span><span class="op">$</span><span class="fu">expect_values</span><span class="op">(</span>export <span class="op">=</span> <span class="st">"even"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">"#condpanel"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/elem_expect.html">elem_expect</a></span><span class="op">(</span><span class="va">is_invisible</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; Can't compare snapshot to reference when testing interactively.</span></span>
<span><span class="co">#&gt; i Run `devtools::test()` or `testthat::test_file()` to see changes.</span></span>
<span><span class="co">#&gt; New path: /tmp/RtmpBvPfZN/st2-1c5225449837/001_.png</span></span>
<span><span class="co">#&gt; Can't compare snapshot to reference when testing interactively.</span></span>
<span><span class="co">#&gt; i Run `devtools::test()` or `testthat::test_file()` to see changes.</span></span>
<span><span class="co">#&gt; New path: /tmp/RtmpBvPfZN/st2-1c5225449837/001.json</span></span>
<span><span class="co">#&gt; Can't compare snapshot to reference when testing interactively.</span></span>
<span><span class="co">#&gt; i Run `devtools::test()` or `testthat::test_file()` to see changes.</span></span>
<span><span class="co">#&gt; New path: /tmp/RtmpBvPfZN/st2-1c5225449837/002_.png</span></span>
<span><span class="co">#&gt; Can't compare snapshot to reference when testing interactively.</span></span>
<span><span class="co">#&gt; i Run `devtools::test()` or `testthat::test_file()` to see changes.</span></span>
<span><span class="co">#&gt; New path: /tmp/RtmpBvPfZN/st2-1c5225449837/002.json</span></span>
<span><span class="co">#&gt; Test passed</span></span></code></pre></div>
<p>Note the difference in styles: while in selenider you must specify
tests explicitly, shinytest2 uses a snapshot-based approach (specifying
the value that you want to test and omitting the value that you expect
it to be). There are advantages and disadvantages to this approach: the
tests are generally easier to create and update, but a little harder to
debug.</p>
<p>If you want to use a snapshot-based style, you can do it manually,
e.g.:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://testthat.r-lib.org/reference/expect_snapshot.html" class="external-link">expect_snapshot</a></span><span class="op">(</span><span class="fu"><a href="../reference/is_visible.html">is_visible</a></span><span class="op">(</span><span class="fu"><a href="../reference/s.html">s</a></span><span class="op">(</span><span class="st">"#condpanel"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>However, note that the tests will no longer wait a certain period of
time for the value to be correct, since the test is unaware of what the
correct value is.</p>
</div>
<div class="section level2">
<h2 id="using-selenider-with-github-actions">Using selenider with Github Actions<a class="anchor" aria-label="anchor" href="#using-selenider-with-github-actions"></a>
</h2>
<p>The complexity of using selenider with Github Actions depends on the
backend that you use.</p>
<p>If you would like to use chromote as your backend, you shouldn’t need
to make any special additions to your workflow files, and can safely use
something like <a href="https://github.com/r-lib/actions/tree/v2-branch/examples#standard-ci-workflow" class="external-link">r-lib’s
R CMD CHECK action</a>. This is because chromote only requires chrome to
be installed, which is already the case on Github’s machines.</p>
<p>If you want to use selenium with Github Actions, it is recommended to
make use of docker. See <a href="https://github.com/SeleniumHQ/docker-selenium" class="external-link uri">https://github.com/SeleniumHQ/docker-selenium</a> for more
information. For example, the following lines in a Github Actions yaml
file will start a selenium server (version 4.15.0), supporting Firefox,
on port 4444. We recommend using the “shm-size” argument to make sure
you don’t run out of memory.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="at">  </span><span class="fu">selenium</span><span class="kw">:</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> selenium/standalone-firefox:4.15.0-20231108</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 4444:4444</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="fu">    options</span><span class="kw">: </span><span class="ch">&gt;-</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>      --shm-size="2g"</span></code></pre></div>
<p>This will download Firefox and start a Selenium server on port 4444.
Automating a browser with Selenium consists of two parts: the server and
the client. By default, <code><a href="../reference/selenider_session.html">selenider_session()</a></code> tries to setup
both, but we can stop this from happening by using the
<code>options</code> argument.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  browser <span class="op">=</span> <span class="st">"firefox"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    server_options <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Stop selenider from creating a server</span></span>
<span>    client_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_client_options</a></span><span class="op">(</span>port <span class="op">=</span> <span class="fl">4444L</span><span class="op">)</span> <span class="co"># Use the port of the server</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The session can then by used as usual. selenider will no longer be
able to close the selenium server, but this should be done automatically
in the Github Action.</p>
<p>For more information, see how we setup our Github Actions workflow
for selenium: <a href="https://github.com/ashbythorpe/selenider/blob/main/.github/workflows/R-CMD-check-selenium.yaml" class="external-link uri">https://github.com/ashbythorpe/selenider/blob/main/.github/workflows/R-CMD-check-selenium.yaml</a>
<a href="https://github.com/ashbythorpe/selenider/blob/main/tests/testthat/helper-session.R" class="external-link uri">https://github.com/ashbythorpe/selenider/blob/main/tests/testthat/helper-session.R</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ashby Thorpe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
