<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Start a session — selenider_session • selenider</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Start a session — selenider_session"><meta name="description" content="Create a session in selenider. If you create a session in the global
environment it will be made available to other functions (like
open_url()) without having to pass it in, and will close automatically
when the R session is closed. Alternatively, if it is created inside a
function, it will be closed as soon as the function finishes executing. To
customise this, use the .env and local arguments."><meta property="og:description" content="Create a session in selenider. If you create a session in the global
environment it will be made available to other functions (like
open_url()) without having to pass it in, and will close automatically
when the R session is closed. Alternatively, if it is created inside a
function, it will be closed as soon as the function finishes executing. To
customise this, use the .env and local arguments."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">selenider</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/selenider.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/unit-testing.html">Unit testing</a></li>
    <li><a class="dropdown-item" href="../articles/with-rvest.html">selenider and rvest</a></li>
    <li><a class="dropdown-item" href="../articles/advanced-usage.html">Advanced usage of selenider</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ashbythorpe/selenider/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Start a session</h1>
      <small class="dont-index">Source: <a href="https://github.com/ashbythorpe/selenider/blob/main/R/session.R" class="external-link"><code>R/session.R</code></a></small>
      <div class="d-none name"><code>selenider_session.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a session in selenider. If you create a session in the global
environment it will be made available to other functions (like
<code><a href="open_url.html">open_url()</a></code>) without having to pass it in, and will close automatically
when the R session is closed. Alternatively, if it is created inside a
function, it will be closed as soon as the function finishes executing. To
customise this, use the <code>.env</code> and <code>local</code> arguments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">selenider_session</span><span class="op">(</span></span>
<span>  session <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"selenider.session"</span><span class="op">)</span>,</span>
<span>  browser <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"selenider.browser"</span><span class="op">)</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  options <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  driver <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  local <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .env <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">caller_env</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  view <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  selenium_manager <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-session">session<a class="anchor" aria-label="anchor" href="#arg-session"></a></dt>
<dd><p>The package to use as a backend: either "chromote",
"selenium". By default, chromote is used, since this tends to be faster
and more reliable. Change the default value using the <code>selenider.session</code>
option.</p></dd>


<dt id="arg-browser">browser<a class="anchor" aria-label="anchor" href="#arg-browser"></a></dt>
<dd><p>The name of the browser to run the session in; one of
"chrome", "firefox", "edge", "safari", or another valid browser name.
If <code>NULL</code>, the function will try to work out which browser you have
installed. If we are using chromote, this option is ignored, since
chromote only works on Chrome. Change the default value of this parameter
using the <code>selenider.browser</code> option.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>The default time to wait when collecting an element.</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>A <code><a href="chromote_options.html">chromote_options()</a></code> or <code><a href="chromote_options.html">selenium_options()</a></code> object,
used to specify options that are specific to chromote or selenium. See
Details for some useful examples of this.</p></dd>


<dt id="arg-driver">driver<a class="anchor" aria-label="anchor" href="#arg-driver"></a></dt>
<dd><p>A driver object to use instead of creating one manually. This
can be one of:</p><ul><li><p>A <a href="https://rstudio.github.io/chromote/reference/ChromoteSession.html" class="external-link">chromote::ChromoteSession</a> object.</p></li>
<li><p>A <a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a> object.</p></li>
<li><p>An <a href="https://ashbythorpe.github.io/selenium-r/reference/SeleniumSession.html" class="external-link">selenium::SeleniumSession</a> object.</p></li>
<li><p>A Selenium server object, created by <code><a href="https://ashbythorpe.github.io/selenium-r/reference/selenium_server.html" class="external-link">selenium::selenium_server()</a></code>. In
this case, a client will be created using the server object.</p></li>
<li><p>A list/environment containing the <a href="https://ashbythorpe.github.io/selenium-r/reference/SeleniumSession.html" class="external-link">selenium::SeleniumSession</a> object,
the Selenium server object, or both.</p></li>
</ul></dd>


<dt id="arg-local">local<a class="anchor" aria-label="anchor" href="#arg-local"></a></dt>
<dd><p>Whether to set the session as the local session object,
using <code><a href="get_session.html">local_session()</a></code>. If this is <code>FALSE</code>, you will have to pass this
into the <code>session</code> argument of other functions (like <code><a href="open_url.html">open_url()</a></code>), and
close the session manually using <code><a href="close_session.html">close_session()</a></code>.</p></dd>


<dt id="arg--env">.env<a class="anchor" aria-label="anchor" href="#arg--env"></a></dt>
<dd><p>Passed into <code><a href="get_session.html">local_session()</a></code>, to define the
environment in which the session is used. Change this if you want to
create the session inside a function and then use it outside the
function (see Examples). Use <code><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">rlang::caller_env()</a></code> in this case.</p></dd>


<dt id="arg-view-selenium-manager-quiet">view, selenium_manager, quiet<a class="anchor" aria-label="anchor" href="#arg-view-selenium-manager-quiet"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>
Use the <code>options</code> argument instead.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>selenider_session</code> object. Use <code>session$driver</code> to retrieve the driver
object that controls the browser.</p>
    </div>
    <div class="section level2">
    <h2 id="useful-session-specific-options">Useful session-specific options<a class="anchor" aria-label="anchor" href="#useful-session-specific-options"></a></h2>
    <p>See <code><a href="chromote_options.html">chromote_options()</a></code> and <code><a href="chromote_options.html">selenium_options()</a></code> for the full range.</p><div class="section">
<h3 id="making-a-chromote-session-non-headless">Making a chromote session non-headless<a class="anchor" aria-label="anchor" href="#making-a-chromote-session-non-headless"></a></h3>


<p>By default, chromote will run in headless mode, meaning that you won't
actually be able to see the browser as you control it. Use the <code>view</code>
argument to <code><a href="chromote_options.html">chromote_options()</a></code> to change this:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">chromote_options</a></span><span class="op">(</span>view <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="prevent-creation-of-a-selenium-server">Prevent creation of a selenium server<a class="anchor" aria-label="anchor" href="#prevent-creation-of-a-selenium-server"></a></h3>


<p>Sometimes, you want to manage the Selenium server separately, and only let
selenider create client objects to attach to the server. You can do this by
passing <code>NULL</code> into the <code>server_options</code> argument to <code><a href="chromote_options.html">selenium_options()</a></code>:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span>server_options <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>If the port you are using is not 4444, you will need to pass in the <code>port</code>
argument to <code><a href="chromote_options.html">selenium_client_options()</a></code> as well:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    client_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_client_options</a></span><span class="op">(</span>port <span class="op">=</span> <span class="va">YOUR_PORT</span><span class="op">)</span>,</span>
<span>    server_options <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>One example of when this may be useful is when you are managing the Selenium
server using Docker.</p>
</div>

<div class="section">
<h3 id="using-a-proxy-server">Using a proxy server<a class="anchor" aria-label="anchor" href="#using-a-proxy-server"></a></h3>


<p>When using chromote, the <code>proxy_server</code> argument to <code><a href="chromote_options.html">chromote_options()</a></code>
can be used to specify a proxy server to use.</p>
<p></p><div class="sourceCode r"><pre><code>session &lt;- selenider_session(
  "chromote",
  options = chromote_options(
    proxy_server = list(
      host = "HOST_IP"
      port = PORT,
      username = "USERNAME", # Leave blank if authentication is not required
      password = "PASSWORD"
    )
  )
)
</code></pre><p></p></div>
<p>With selenium, you have to use the <code>capabilities</code> client option. Usage
varies depending on the browser you are using.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co"># Chrome</span></span>
<span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  browser <span class="op">=</span> <span class="st">"chrome"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    client_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_client_options</a></span><span class="op">(</span></span>
<span>      capabilities <span class="op">=</span> <span class="fu">selenium</span><span class="fu">::</span><span class="fu"><a href="https://ashbythorpe.github.io/selenium-r/reference/chrome_options.html" class="external-link">chrome_options</a></span><span class="op">(</span></span>
<span>        args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--proxy-server=HOST:PORT"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Firefox</span></span>
<span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  browser <span class="op">=</span> <span class="st">"firefox"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    client_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_client_options</a></span><span class="op">(</span></span>
<span>      capabilities <span class="op">=</span> <span class="fu">selenium</span><span class="fu">::</span><span class="fu"><a href="https://ashbythorpe.github.io/selenium-r/reference/chrome_options.html" class="external-link">firefox_options</a></span><span class="op">(</span></span>
<span>        prefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          <span class="st">"network.proxy.type"</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          <span class="st">"network.proxy.socks"</span> <span class="op">=</span> <span class="st">"HOST"</span>,</span>
<span>          <span class="st">"network.proxy.socks_port"</span> <span class="op">=</span> <span class="va">PORT</span>,</span>
<span>          <span class="st">"network.proxy.socks_remote_dns"</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Edge</span></span>
<span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  browser <span class="op">=</span> <span class="st">"edge"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    client_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_client_options</a></span><span class="op">(</span></span>
<span>      capabilities <span class="op">=</span> <span class="fu">selenium</span><span class="fu">::</span><span class="fu"><a href="https://ashbythorpe.github.io/selenium-r/reference/chrome_options.html" class="external-link">edge_options</a></span><span class="op">(</span></span>
<span>        args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--proxy-server=HOST:PORT"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="store-the-selenium-server-persistently">Store the Selenium server persistently<a class="anchor" aria-label="anchor" href="#store-the-selenium-server-persistently"></a></h3>


<p>By default, selenium will download and store the Selenium server JAR file
in a temporary directory, which will be deleted when the R session finishes.
This means that every time you start a new R session, this file will be
re-downloaded. You can store the JAR file permanently using the <code>temp</code>
argument to <code><a href="chromote_options.html">selenium_server_options()</a></code>:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selenider_session.html">selenider_session</a></span><span class="op">(</span></span>
<span>  <span class="st">"selenium"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_options</a></span><span class="op">(</span></span>
<span>    server_options <span class="op">=</span> <span class="fu"><a href="../reference/chromote_options.html">selenium_server_options</a></span><span class="op">(</span>temp <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>The downside of this is you may end up using a lot of storage, especially
if a new version of Selenium is released and the old server file is left
on the filesystem.</p>
<p>You can also use the <code>path</code> argument to <code><a href="chromote_options.html">selenium_server_options()</a></code> to
specify the directory where the JAR file should be stored.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="structure-of-a-selenider-session">Structure of a selenider session<a class="anchor" aria-label="anchor" href="#structure-of-a-selenider-session"></a></h2>
    <p>A <code>selenider_session</code> object has several components that can be useful to
access:</p><ul><li><p><code>session</code> - The type of session, either <code>"chromote"</code> or <code>"selenium"</code>.</p></li>
<li><p><code>driver</code> - The driver object used to control the browser. This is either a
<a href="https://rstudio.github.io/chromote/reference/ChromoteSession.html" class="external-link">chromote::ChromoteSession</a> or <a href="https://ashbythorpe.github.io/selenium-r/reference/SeleniumSession.html" class="external-link">selenium::SeleniumSession</a> object. This is
useful if you want to do something with the driver that is not directly
supported by selenider. See <code><a href="get_actual_element.html">get_actual_element()</a></code> for some examples of
this.</p></li>
<li><p><code>server</code> - The Selenium server object, if one was created or passed in.</p></li>
<li><p><code>id</code> - A unique ID that can be used to identify the session.</p></li>
</ul><p>Access these components using <code>$</code> (e.g. <code>session$driver</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="custom-drivers">Custom drivers<a class="anchor" aria-label="anchor" href="#custom-drivers"></a></h2>
    <p>If you want complete manual control over creating the underlying driver,
you can pass your own <code>driver</code> argument to stop selenider from creating
the driver for you.</p>
<p>You can also supply a <a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a> object, allowing selenider and
shinytest2 to share a session:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>shiny_app <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">shinyApp</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="at">ui =</span> shiny<span class="sc">::</span><span class="fu">fluidPage</span>(</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="co"># ... Your UI</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  ),</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    <span class="co"># ... Your server</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  }</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>app <span class="ot">&lt;-</span> shinytest2<span class="sc">::</span>AppDriver<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="at">driver =</span> app</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="close_session.html">close_session()</a></code> to close the session. Note that this will not reset the
result of <code><a href="get_session.html">get_session()</a></code>, which is why <code><a href="https://withr.r-lib.org/reference/defer.html" class="external-link">withr::deferred_run()</a></code> is
preferred.</p></li>
<li><p><code><a href="get_session.html">local_session()</a></code> and <code><a href="get_session.html">with_session()</a></code> to manually set the local session
object (and <code><a href="get_session.html">get_session()</a></code> to get it).</p></li>
<li><p><code><a href="open_url.html">open_url()</a></code>, <code><a href="s.html">s()</a></code> and <code><a href="find_elements.html">find_elements()</a></code> to get started once you have
created a session.</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span></span>
<span><span class="va">session_1</span> <span class="op">&lt;-</span> <span class="fu">selenider_session</span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co"># session_1 is the local session here</span></span>
<span></span>
<span><span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Returns session 1</span></span>
<span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">session_2</span> <span class="op">&lt;-</span> <span class="fu">selenider_session</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># In here, session_2 is the local session</span></span>
<span>  <span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="co"># When the function finishes executing, the session is closed</span></span>
<span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="op">)</span> <span class="co"># Returns `session_2`</span></span>
<span></span>
<span><span class="co"># If we want to use a session outside the scope of a function,</span></span>
<span><span class="co"># we need to use the `.env` argument.</span></span>
<span><span class="va">create_session</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">timeout</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">.env</span> <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">caller_env</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># caller_env() is the environment where the function is called</span></span>
<span>  <span class="fu">selenider_session</span><span class="op">(</span>timeout <span class="op">=</span> <span class="va">timeout</span>, .env <span class="op">=</span> <span class="va">.env</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">my_session</span> <span class="op">&lt;-</span> <span class="fu">create_session</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># We can now use this session outside the `create_session()` function</span></span>
<span><span class="fu"><a href="get_session.html">get_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `my_session` will be closed automatically.</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ashby Thorpe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

